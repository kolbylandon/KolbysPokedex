"use strict";import*as main from"./main.js";import*as request from"./requests.js";const synth=window.speechSynthesis,spriteScreen=document.getElementById("sprite-screen"),typeText=document.getElementById("type-text"),typeText2=document.getElementById("type-text-2"),typeHeader=document.getElementById("type-header"),infoScreen=document.getElementById("info-screen"),statsScreen=document.getElementById("stats-screen"),statsChart=document.getElementById("stats-chart"),abilitiesUnorderedList=document.getElementById("abilities-unordered-list"),abilitiesHeader=document.getElementById("abilities-header"),nameHeader=document.getElementById("name-header"),pokemonEntryText=document.getElementById("pokedex-entry-text"),genusSubHeader=document.getElementById("genus-sub-header"),textColor="#606060",hiddenAbilityTextColor="#ff6f61";function getAbilityList(abilities){abilitiesHeader.innerText=1===abilities.length?"Ability:":"Abilities:",abilitiesUnorderedList.innerHTML="<ul id='abilities-unordered-list' class='list-bulleted'></ul>";for(let index in abilities){let listItem=document.createElement("li"),name=upperCaseAfterHyphen(abilities[index].ability.name.capitalize());request.requestAbilityEffect(abilities[index].ability.url,listItem,name),listItem.style.color=!1===abilities[index].is_hidden?"#606060":"#ff6f61",abilitiesUnorderedList.appendChild(listItem)}}function getStatTotal(stats){let statTotal=0;for(let index in stats)statTotal+=stats[index].base_stat;return statTotal}function getPokedexEntry(flavorTextEntries){const regex=/[\u00A0\u1680​\u180e\u2000-\u2009\u200a​\u200b​\u202f\u205f​\u3000\u000c\n]/g;for(let index in flavorTextEntries)if("en"===flavorTextEntries[index].language.name)return checkTextForUnwantedCharacters(flavorTextEntries[index].flavor_text,regex," ");return null}function getGenus(genera){for(let index in genera)if("en"===genera[index].language.name)return genera[index].genus}function getHeight(height){let feet=~~(Math.round(3.93701*height)/12),inches=Math.round(3.93701*height)%12;return feet>0?`${feet}'${inches}"`:`${inches}"`}function getWeight(weight){return Math.round(weight/4.536,2).toFixed(1)}function getTypes(types){let typeArray=[],firstType=types[0].type.name,firstColor=getTypeColor(firstType);if(typeArray.push(firstColor),typeText.innerText=firstType,typeText.style.backgroundColor=convertHexToRgba(firstColor,.6),typeHeader.innerText="Type:",infoScreen.style.borderImage="linear-gradient("+convertHexToRgba(firstColor,1)+", "+convertHexToRgba(firstColor,1)+") 1",statsScreen.style.borderImage="linear-gradient("+convertHexToRgba(firstColor,1)+", "+convertHexToRgba(firstColor,1)+") 1",spriteScreen.style.borderImage="linear-gradient("+convertHexToRgba(firstColor,1)+", "+convertHexToRgba(firstColor,1)+") 1",typeText2.hidden=!0,2===types.length){let secondType=types[1].type.name,secondColor=getTypeColor(secondType);return typeHeader.innerText="Types:",infoScreen.style.borderColor=secondColor,typeText2.innerText=secondType,typeText2.style.backgroundColor=convertHexToRgba(secondColor,.6),typeText2.hidden=!1,infoScreen.style.borderImage="linear-gradient("+convertHexToRgba(firstColor,1)+", "+convertHexToRgba(secondColor,1)+") 1",statsScreen.style.borderImage="linear-gradient("+convertHexToRgba(firstColor,1)+", "+convertHexToRgba(secondColor,1)+") 1",spriteScreen.style.borderImage="linear-gradient("+convertHexToRgba(firstColor,1)+", "+convertHexToRgba(secondColor,1)+") 1",typeArray.push(secondColor),console.log(typeArray),secondColor}return firstColor}function checkTextForUnwantedCharacters(text,regex,replacementCharacter){return text.replace(regex,replacementCharacter)}function upperCaseAfterHyphen(hyphenatedString){return hyphenatedString.replace(/\-[a-z]/g,match=>match.toUpperCase())}function convertHexToRgba(color,alpha){let r,g,b;return`rgba(${`0x${color.substring(1).split("").join("")}`>>16&255}, ${`0x${color.substring(1).split("").join("")}`>>8&255}, ${255&`0x${color.substring(1).split("").join("")}`}, ${alpha})`}function getTypeColor(type){const cases={normal:"#ADA480",fighting:"#C22F26",flying:"#B49AF6",poison:"#A43FA4",ground:"#DEBE63",rock:"#B49E38",bug:"#A8B531",ghost:"#6E5391",steel:"#B8B5CF",fire:"#F07D33",water:"#6D88F8",grass:"#81CB5B",electric:"#E9D436",psychic:"#FF598D",ice:"#9AD9DA",dragon:"#723EFC",fairy:"#E1A4E1",dark:"#2B1E16"};return cases[type]}function getLargestStat(hp,attack,defense,spAttack,spDefense,speed){const statsArray=[hp,attack,defense,spAttack,spDefense,speed];return 25*Math.round(statsArray.reduce((stat,max)=>stat>max?stat:max,0)/25)}function createArray(elements){let elementArray=[];for(let index in elements)elementArray.push(elements[index]);return elementArray}function getElementState(elements,state){elements.forEach(element=>{void 0!==element.style&&(element.style.visibility=state)}),scrollToTop()}function makeButtonsDisappear(id){main.previousButton.style.display=1===id?"none":"inline-block",main.nextButton.style.display=898===id?"none":"inline-block"}function generatePokemon(pokedexNumber,state){pokedexNumber>=1&&pokedexNumber<=898?request.requestPokemon(pokedexNumber,state):alert("Please enter a valid Pokédex number"),scrollToTop()}function readPokedexEntry(){synth.speaking?stopReadingEntry():startReadingEntry(nameHeader.textContent,genusSubHeader.textContent,pokemonEntryText.textContent)}function stopReadingEntry(){synth.cancel()}function startReadingEntry(name,genus,entry){synth.speak(new SpeechSynthesisUtterance(name)),synth.speak(new SpeechSynthesisUtterance(genus)),synth.pause(),synth.resume(),synth.speak(new SpeechSynthesisUtterance(entry))}function getDeviceType(){const agent=navigator.userAgent;return/(tablet|ipad|playbook|silk)|(android(?!.*mobi))/i.test(agent)?"tablet":/Mobile|iP(hone|od)|Android|Blackberry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(agent)?"mobile":"desktop"}function headerLayout(deviceType,goButton,randomPokemonButton,previousButton,nextButton,readEntryButton,clearButton){if("mobile"===deviceType)return goButton.innerHTML='<span class="button-top"><i class="fa-solid fa-magnifying-glass"></i></span>',randomPokemonButton.innerHTML='<span class="button-top"><i class="fa-solid fa-shuffle"></i></span>',previousButton.innerHTML='<span class="button-top"><i class="fa-solid fa-angle-left"></i></span>',nextButton.innerHTML='<span class="button-top"><i class="fa-solid fa-angle-right"></i></span>',readEntryButton.innerHTML='<span class="button-top"><i class="fa-solid fa-book-open-reader"></i></span>',void(clearButton.innerHTML='<span class="button-top"><i class="fa-solid fa-x"></i></span>');"tablet"===deviceType?(randomPokemonButton.innerHTML='<span class="button-top">Random</span>',previousButton.innerHTML='<span class="button-top">Prev</span>'):(randomPokemonButton.innerHTML='<span class="button-top">Random Pokémon</span>',previousButton.innerHTML='<span class="button-top">Previous</span>'),goButton.innerHTML='<span class="button-top">Go</span>',nextButton.innerHTML='<span class="button-top">Next</span>',readEntryButton.innerHTML='<span class="button-top">Read Entry</span>',clearButton.innerHTML='<span class="button-top"> X </span>'}function scrollToTop(){window.scrollTo(0,0)}String.prototype.capitalize=function(){return`${this.charAt(0).toUpperCase()}${this.slice(1)}`};export{checkTextForUnwantedCharacters,getStatTotal,getPokedexEntry,getElementState,upperCaseAfterHyphen,convertHexToRgba,getHeight,getWeight,getTypes,getTypeColor,getLargestStat,createArray,generatePokemon,makeButtonsDisappear,readPokedexEntry,stopReadingEntry,getAbilityList,getGenus,headerLayout,getDeviceType,textColor,hiddenAbilityTextColor,statsChart};