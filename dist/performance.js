var i=class{constructor(){this.metrics=new Map,this.observers=new Map,this.enabled=!0}startTiming(e){this.enabled&&this.metrics.set(e,performance.now())}endTiming(e){if(!this.enabled)return;let t=this.metrics.get(e);if(t){let r=performance.now()-t;return s()&&console.log(`\u26A1 ${e}: ${r.toFixed(2)}ms`),this.metrics.delete(e),r}}measure(e,t){if(!this.enabled)return t();this.startTiming(e);let n=t();return n&&typeof n.then=="function"?n.finally(()=>this.endTiming(e)):(this.endTiming(e),n)}setupLazyLoading(){if("IntersectionObserver"in window){let e=new IntersectionObserver((t,n)=>{t.forEach(r=>{if(r.isIntersecting){let o=r.target;o.src=o.dataset.src,o.classList.remove("lazy"),n.unobserve(o)}})});document.querySelectorAll("img[data-src]").forEach(t=>{e.observe(t)}),this.observers.set("lazyImages",e)}}setupPerformanceObserver(){if("PerformanceObserver"in window)try{let e=new PerformanceObserver(t=>{t.getEntries().forEach(r=>{r.entryType==="measure"&&s()&&console.log(`\u{1F4CA} ${r.name}: ${r.duration.toFixed(2)}ms`)})});e.observe({entryTypes:["measure","navigation"]}),this.observers.set("performance",e)}catch(e){console.warn("Performance Observer not supported:",e)}}throttle(e,t){let n;return function(){let r=arguments,o=this;n||(e.apply(o,r),n=!0,setTimeout(()=>n=!1,t))}}debounce(e,t){let n;return function(){let r=arguments,o=this;clearTimeout(n),n=setTimeout(()=>e.apply(o,r),t)}}getMetrics(){return"performance"in window?{navigation:performance.getEntriesByType("navigation")[0],paint:performance.getEntriesByType("paint"),memory:performance.memory?{usedJSHeapSize:performance.memory.usedJSHeapSize,totalJSHeapSize:performance.memory.totalJSHeapSize,jsHeapSizeLimit:performance.memory.jsHeapSizeLimit}:null}:{}}logSummary(){let e=this.getMetrics();console.group("\u{1F680} Performance Summary"),e.navigation&&(console.log(`DOM Content Loaded: ${e.navigation.domContentLoadedEventEnd.toFixed(2)}ms`),console.log(`Load Complete: ${e.navigation.loadEventEnd.toFixed(2)}ms`)),e.paint&&e.paint.forEach(t=>{console.log(`${t.name}: ${t.startTime.toFixed(2)}ms`)}),e.memory&&console.log(`Memory Usage: ${(e.memory.usedJSHeapSize/1024/1024).toFixed(2)}MB`),console.groupEnd()}init(){this.setupLazyLoading(),this.setupPerformanceObserver(),window.addEventListener("load",()=>{setTimeout(()=>this.logSummary(),1e3)})}},a=new i;window.performanceMonitor=a;window.PerformanceMonitor=i;document.addEventListener("DOMContentLoaded",()=>{a.init()});function s(){return typeof process>"u"||!1}
